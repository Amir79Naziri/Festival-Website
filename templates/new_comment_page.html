{% extends 'base.html' %}
{% block head %}
{% endblock %}
{% block title %}
    New Comment
{% endblock %}

{% block content %}

<div class="container" style="padding: 15px">
<h2>New Comment</h2>
    <br>
    <div class="flex-container">
        <div class="flex-child image">
            {% if TYPE == "image" %}
            <div class="item_image" style="padding: 1px">
                <img src="{{ object.url }}" border="0" alt="" style="max-width: 500px; width: auto; height: 360px">
            </div>
            {% else %}
                <div class="item">
            <div class="item_story" style="padding: 2px">
                <p>{{ object.story }}</p>
            </div>
            </div>
            {% endif %}

        </div>

        <div class="flex-child comment">
            <br>
            <br>

            <form action="{{ TYPE }}_{{ ID }}" method="post" class="needs-validation" novalidate>
                  {% csrf_token %}
                 <div class="form-group">
                  <label for="comment">Comment</label>
                     <textarea class="form-control" style="resize: none" rows="5" id="comment" placeholder="Enter Comment" name="comment" required></textarea>

                </div>
                <div class="form-group">
                  <label for="username">Username</label>
                  <input type="text" class="form-control" id="username" placeholder="Enter username" name="username" required>

                </div>

                <button type="submit" class="btn btn-success" >Submit</button>
                <a type="submit" href="/gallery/{{ cancel_url }}" class="btn btn-outline-danger" >Cancel</a>
              </form>
        </div>
    </div>

    <br>

</div>

<style>

.item {
        padding: 2px;
        border: 1px;
        border-radius: 4px;
        -webkit-box-shadow: 0px 5px 5px rgba(0, 0, 0, 0.05);
        width: 500px;
        margin-top: 70px;
    }

.flex-container {
    display: flex;
}

.flex-child {
    flex: 1;
}

.flex-child:first-child {
    margin-right: 20px;
}
</style>

<script>

(function() {
  'use strict';
  window.addEventListener('load', function() {
    // Get the forms we want to add validation styles to
    var forms = document.getElementsByClassName('needs-validation');
    // Loop over them and prevent submission
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();
</script>


{% endblock %}